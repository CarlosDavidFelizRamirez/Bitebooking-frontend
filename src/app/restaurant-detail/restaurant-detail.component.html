<div class="container my-5 p-3 bg-white shadow-sm rounded">
  <div class="row">
    <div class="col-md-6 mb-3 mb-md-0">
      
       @if (restaurant?.imageUrl?.startsWith('http')) {
        
        <img class="" [src]="restaurant?.imageUrl" alt="" class="img-fluid rounded">
      }
      @else{
        
        <img class="" [src]="'http://localhost:8080/files/' +restaurant?.imageUrl" alt="" class="img-fluid rounded">
  
      }
    </div>
    <div class="col-md-6">
      <h1 class="h2">{{restaurant?.name}}</h1>
      <div class="mb-3">
        <p class="btn btn-outline-dark me-2">Tipo de Cocina: {{getRestaurantType(restaurant?.restaurantType)}}</p>
        <p href="tel:123456789" class="btn btn-outline-dark me-2">📞{{restaurant?.phone}}</p>
        <p class="btn btn-outline-dark me-2">🌟{{restaurant?.averageRating}}</p>
        <p class="btn btn-outline-dark me-2">Desde: {{formatTime(restaurant?.openingTime)}}, Hasta: {{formatTime(restaurant?.closingTime)}}</p>
        <div>
          <button [routerLink]="['/bookings', restaurant?.id, 'reserve']"type="button" class="btn btn-primary">
            <i class="bi bi-box-arrow-right" style="padding: 5%; min-width: 200px;"></i>Reservar</button>
        </div>
      </div>
      
      

      
      <div class="fw-bold fs-4">Descripción</div>
      {{restaurant?.description}}
    </div>
    
  
  </div>
  
<div class="menu-section py-4">
  <h2 class="h5 mb-3">Menús</h2>
  <div class="row">
    @for (menu of menus; track menu) {
      @if (menu?.imgMenu?.startsWith('http')) {
        <!-- Si es url externa entonces ya trae la ruta completa absoluta-->
        <div class="col-md-4 mb-3">
          <div class="card h-100" [routerLink]="['/menus', menu?.id, 'detail']" style="cursor: pointer;">
    
           
            <img class="card-img-top" [src]="menu?.imgMenu" alt="Dish 1">
            <div class="card-body">
              <h5 class="card-title">{{menu?.title}}</h5>
              <p class="card-text">{{menu?.description}}</p>
              <div class="card-footer">
              </div>
            </div>
          </div>
        </div>  
      }@else {

        <div class="col-md-4 mb-3">
          <div class="card h-100" [routerLink]="['/menus', menu?.id, 'detail']" style="cursor: pointer;">
    
           
            <img class="card-img-top" [src]="'http://localhost:8080/files/' +menu?.imgMenu" alt="Dish 1">
            <div class="card-body">
              <h5 class="card-title">{{menu?.title}}</h5>
              <p class="card-text">{{menu?.description}}</p>
              <div class="card-footer">
              </div>
            </div>
          </div>
        </div> 
        
      }
  }

  
  
</div>
@if (isAdmin || isRestaurant) {
<div>
  <button class="btn btn-outline-dark me-2" [routerLink]="['/menus',restaurant?.id, 'create']">Crear Menu</button>
  <button class="btn btn-outline-dark me-2" [routerLink]="['/restaurant',restaurant?.id,'update']">Actualizar mi restaurante</button>
</div>
}

  <div class="recommendation-section py-4">
    <h2 class="h5 mb-3">Recomendaciones de Restaurantes</h2>
    <div class="row">
      @for (restaurant of recommendedRestaurants; track restaurant) {
        <div class="col-md-4 mb-3">
          <div class="card h-100" [routerLink]="['/restaurant',restaurant.id,'detail']" style="cursor: pointer;">
            <img class="card-img-top" [src]="restaurant.imageUrl.startsWith('http') ? restaurant.imageUrl : 'http://localhost:8080/files/' + restaurant.imageUrl" alt="Restaurant 1">
            <div class="card-body">
              <h5 class="card-title">{{restaurant.name}}</h5>
              <p class="card-text">{{restaurant.description}}</p>
              <div class="card-footer">
              </div>
            </div>
          </div>
        </div>
      }
      </div>
</div>
